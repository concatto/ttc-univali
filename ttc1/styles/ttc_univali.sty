%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% GENERAL SETTINGS %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\quadroname}{Quadro}
\newcommand{\listofquadrosname}{Lista de quadros}

\newfloat[chapter]{quadro}{loq}{\quadroname}
\newlistof{listofquadros}{loq}{\listofquadrosname}
\newlistentry{quadro}{loq}{0}

% configurações para atender às regras da ABNT
\setfloatadjustment{quadro}{\centering}
\counterwithout{quadro}{chapter}
\renewcommand{\cftquadroname}{\quadroname\space} 
\renewcommand*{\cftquadroaftersnum}{\hfill--\hfill}

% Configuração de posicionamento padrão:
\setfloatlocations{quadro}{hbtp}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\renewcommand{\ABNTEXchapterfont}{\fontfamily{ptm}\fontseries{b}\selectfont}
\renewcommand{\ABNTEXchapterfontsize}{\fontsize{16pt}{16pt}\selectfont}

\renewcommand{\ABNTEXsectionfont}{\fontfamily{ptm}\fontseries{b}\selectfont}
\renewcommand{\ABNTEXsectionfontsize}{\fontsize{14pt}{14pt}\selectfont}

\renewcommand{\ABNTEXsubsectionfont}{\fontfamily{ptm}\fontseries{b}\selectfont}
\renewcommand{\ABNTEXsubsectionfontsize}{\fontsize{14pt}{14pt}\selectfont}

\renewcommand{\ABNTEXsubsubsectionfont}{\fontfamily{ptm}\fontseries{b}\selectfont}
\renewcommand{\ABNTEXsubsubsectionfontsize}{\fontsize{12pt}{12pt}\selectfont}

\setlength{\parindent}{1.27cm}
\setlength{\parskip}{\baselineskip}
\usepackage{indentfirst} % Indenta o primeiro parágrafo de cada seção

\renewcommand{\afterchaptertitle}%{\par\nobreak\vskip0.5\baselineskip}


% Estilo indentação enumerate
\setlist[enumerate,1]{label={\arabic*)},topsep=0pt,itemsep=0pt,leftmargin=\parindent+\labelwidth-\labelsep}%
\setlist[enumerate,2]{label={--},topsep=0pt,itemsep=0pt,leftmargin=*}


%%%%% Sumario
\renewcommand{\cftsubsectionfont}{\mdseries} % Tira o negrito da subsubsection no sumario


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% BASIC INFO %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage{ragged2e}

% Universidade
% Escola
% Curso
% Titulo
% Autor
% Cidade e Data e Mês

\newenvironment{Info}[9]{
    
    \begin{center}
        %%%%%%%%%%%%%%%%%%%%% CAPA %%%%%%%%%%%%%%%%%%%%%%%%%%%%
        \fontsize{14pt}{14pt}\selectfont 
        {\textbf{#1 \\ #2 \\ #3}}
        
        \vspace{0.37\textheight}
        \uppercase{\textbf{#4}}
        
        \vspace{48pt}
        por
        \\[24pt]
        #5
        
        \vspace*{\fill}
        #6
        \clearpage
        
        %%%%%%%%%%%%%%%%%% CONTRACAPA %%%%%%%%%%%%%%%%%%%%%%%%%
        {\textbf{#1 \\ #2 \\ #3}}
        
        \vspace{0.27\textheight}
        \uppercase{\textbf{#4}}
        
        \vspace{24pt}
        Área de #7
        
        \vspace{12pt}
        por
        
        \vspace{12pt}
        #5
        
        \vspace{36pt}
        \hfill\begin{minipage}{\dimexpr\textwidth/2+15pt}
            \fontsize{12pt}{12pt}\selectfont 
            \begin{justify}
                Relatório apresentado à Banca Examinadora do Trabalho Técnico-científico de Conclusão de Curso de Ciência da Computação para análise e aprovação.
                
                \noindent
                Orientador(a): #8
                
                 % if #9 not empty
                \noindent
                Coorientador(a): #9
                
            \end{justify}
            \xdef\tpd{0}
        \end{minipage}
        
        \vspace*{\fill}
        #6
        \clearpage
    \end{center}
}

\newenvironment{Dedicatoria} {
    \itshape
    \vspace*{\fill}
    \raggedright
    \begin{flushright}
} {
    \end{flushright}
    \clearpage
}

\newenvironment{Agradecimentos}{
    \pretextualchapter{Agradecimentos}
    %\chapter*{}
} {
    \clearpage
}

\newenvironment{Epigrafe} {
    \itshape
    \vspace*{\fill}
    \raggedright
    \begin{flushright}
} {
    \end{flushright}
    \clearpage
}

\newenvironment{Resumo}{
    \pretextualchapter{Resumo}
    \setlength\parindent{0pt}
} {
    \clearpage
}

\newenvironment{Abstract}{
    \pretextualchapter{Abstract}
    \setlength\parindent{0pt}
} {
    \clearpage
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% TABELAS INTRODUCAO %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%% CRONOGRAMAS %%%%%%%%%%%%%%%%%%%%%%%%

% lengths
\newlength\qa
\setlength\qa{\dimexpr .4\textwidth -.5\tabcolsep}
\newlength\qk
\setlength\qk{\dimexpr .1\textwidth -.5\tabcolsep}

% center cells
\newcolumntype{P}[1]{>{\centering\arraybackslash}p{#1}}

% invisible X
\newcommand{\nX}{\phantom{X}}

\newenvironment{cronograma}[1]{
    \begin{quadro}[ht]
        \caption{#1}
        \fontsize{10}{12}\selectfont
        \def\arraystretch{1.25}%  1 is the default
        \setlength\tabcolsep{1.5pt} % default value: 6pt
} {
        \end{tabular}
    \end{quadro}
}

\newcommand{\uHeaderCronograma}[5]{
    \begin{tabular}{|p{\qa}|P{\qk}|P{\qk}|P{\qk}|P{\qk}|P{\qk}|}
        \hline
        {\fontsize{12}{14}\selectfont\textbf{Atividade}} & \textbf{#1} & \textbf{#2} & \textbf{#3} & \textbf{#4} & \textbf{#5} \\ \hline
}

\newcommand{\uAtividade}[6]{
    #1 & \mbox{#2} & \mbox{#3} & \mbox{#4} & \mbox{#5} & \mbox{#6} \\ \hline
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%% RISCOS %%%%%%%%%%%%%%%%%%%%%%%%%%
% lengths
\newlength\qn
\setlength\qn{\dimexpr .2\textwidth -2\tabcolsep}
\newlength\qp
\setlength\qp{\dimexpr .162\textwidth -2\tabcolsep}
\newlength\qi
\setlength\qi{\dimexpr .109\textwidth -2\tabcolsep}
\newlength\qg
\setlength\qg{\dimexpr .236\textwidth -2\tabcolsep}
\newlength\qc
\setlength\qc{\dimexpr .256\textwidth -2\tabcolsep}

\newenvironment{riscos}[1]{
    \begin{quadro}[ht]
        \caption{#1}
        \fontsize{10}{12}\selectfont
        \def\arraystretch{1.25}%  1 is the default
} {
        \end{tabular}
    \end{quadro}
}

\newcommand{\uHeaderRiscos}{
    \begin{tabular}{|>{\raggedright\arraybackslash}p{\qn}|p{\qp}|p{\qi}|>{\raggedright\arraybackslash}p{\qg}|>{\raggedright\arraybackslash}p{\qc}|}
    \hline
    {\fontsize{12}{14}\selectfont\textbf{Risco}} & \textbf{Probabilidade} & \textbf{Impacto} & \textbf{Gatilho} & \textbf{Plano de Contingência} \\ \hline
}

\newcommand{\uRisco}[5]{
    #1 & #2 & #3 & #4 & #5 \\ \hline
}
